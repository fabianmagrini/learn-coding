mocks:
  # Search with query parameters
  - description: Search users
    request:
      method: GET
      path: /api/search
      query:
        type: users
    response:
      statusCode: 200
      headers:
        Content-Type: application/json
      body:
        query: "{{request.query.q}}"
        type: "{{request.query.type}}"
        results:
          - id: "1"
            name: "John Doe"
          - id: "2"
            name: "Jane Smith"

  # Error response example
  - description: Unauthorized access
    request:
      method: GET
      path: /api/admin/users
      headers:
        Authorization: "Bearer invalid-token"
    response:
      statusCode: 401
      headers:
        Content-Type: application/json
      body:
        error: "Unauthorized"
        message: "Invalid or missing authentication token"

  # Slow response with delay
  - description: Slow API endpoint
    request:
      method: GET
      path: /api/slow
    response:
      statusCode: 200
      delay: 2000
      body:
        message: "This response was delayed by 2 seconds"

  # Nested resources
  - description: Get user posts
    request:
      method: GET
      path: /api/users/:userId/posts/:postId
    response:
      statusCode: 200
      body:
        userId: "{{request.params.userId}}"
        postId: "{{request.params.postId}}"
        title: "Sample Post"
        content: "This is a sample post content"
        author:
          id: "{{request.params.userId}}"
          name: "John Doe"

  # Different content type
  - description: Plain text response
    request:
      method: GET
      path: /api/text
    response:
      statusCode: 200
      headers:
        Content-Type: text/plain
      body: "This is a plain text response"

  # Server error
  - description: Internal server error
    request:
      method: POST
      path: /api/error
    response:
      statusCode: 500
      body:
        error: "Internal Server Error"
        message: "Something went wrong"
